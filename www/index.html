<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
        <link rel="stylesheet" type="text/css" href="js/gpsmap/style.css" />
        <title>GPS Monitor</title>
    </head>
    <body>
        
        <script type="text/x-handlebars">
            <div id="contextmenu" class="rtext">
                <ul class="nav nav-pills nav-stacked">
                    {{ctx-menu-item routeName='index' displayName='Mapa'}}
                    {{ctx-menu-item routeName='monitor' displayName='Monitor GPS'}}
                    {{ctx-menu-item routeName='account' displayName='Mi Cuenta'}}
                    {{ctx-menu-item routeName='preferences' displayName='Preferencias'}}
                    {{ctx-menu-item routeName='' displayName='Salir'}}
                </ul>
            </div>

            <div id="container-fulls" class="rtext">
                <div id="actionbar" class="row">
                   <div {{action 'toggleCtxMenu'}} id="button-wrapper" class="col-xs-3 col-md-1">
                      <span class="glyphicon glyphicon-th"></span>
                   </div>
                   <div class="col-xs-9 col-md-11">
                       <select id="driverstatus">
                           <option>Disponible</option>
                           <option>Inactivo</option>
                           <option>Trabajando</option>
                       </select>
                   </div>
                </div>

                <div id="content" class="row">
                    {{outlet}}
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" id="components/ctx-menu-item">
            {{#link-to routeName animations="main:slideOverUp"}}
                <div {{action 'click'}}>
                    {{displayName}}
                </div>
            {{/link-to}}
        </script>

        <script type="text/x-handlebars" id="account">
            {{data-row title='Nombre' data=model.name}}
            {{data-row title='Celular' data=model.cellphone}}
            {{data-row title='Licencia' data=model.license}}
            {{data-row title='Vehiculo' data=model.plate}}
        </script>

        <script type="text/x-handlebars" id="current_task">
            {{data-row title='Cliente' data=model.name}}
            {{data-row title='Origen' data=model.cellphone}}
            {{data-row title='Destino' data=model.license}}
            {{data-row title='Comentarios' data=model.plate}}
        </script>

        <script type="text/x-handlebars" id="index">
            <div id="map-canvas"></div>
        </script>

        <script type="text/x-handlebars" id="monitor">
            <div id="map-canvas" style="height: 30%;"></div> 

            {{data-row title='Tiempo' data=timestamp}}
            {{data-row title='Precisión' data=coords.accuracy}}
            {{data-row title='Altitud' data=coords.altitude}}
            {{data-row title='Altitud precisión' data=coords.altitudeAccuracy}}
            {{data-row title='Dirección' data=coords.heading}}
            {{data-row title='Latitud' data=coords.latitude}}
            {{data-row title='Longitud' data=coords.longitude}}
            {{data-row title='Velocidad' data=coords.speed}}
            {{data-row title='Status' data=message}}
        </script>

        <script type="text/x-handlebars" id="preferences">
            {{data-row title='Aceptar trabajo' data='automatico'}}
            {{data-row title='Mostrar ruta' data='si'}}
            {{data-row title='Mostrar comentarios' data='si'}}
            {{data-row title='Ocultar direcciones de servicio' data='si'}}
        </script>

        <script type="text/x-handlebars" id="components/data-row">
            <div class='data-row'>
                <div class='title'>{{title}}</div>
                <div class='data'>{{data}}</div>
                <div style='clear: both;'></div>
            </div>
        </script>

        <!--script type="text/javascript" src="phonegap.js"></script-->
        <script src="js/libs/jquery-1.10.2.js"></script>
        <script src="js/libs/handlebars-1.1.2.js"></script>
        <script src="js/libs/ember-1.5.1.js"></script>
        <script src="js/libs/bootstrap.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBlGDVvFbD4gIC4l6G-E6bZVQlSi2GTic&sensor=true"></script>
        <script src="js/gpsmap/gpsmap.js"></script>
        <script src="js/gpsmap/Control.js"></script>
        <script src="js/gpsmap/Marker.js"></script>

        <script src="js/index.js"></script>
        <script type="text/javascript">
            phonegap.initialize();
        </script>

        <script src="tests/runner.js"></script>
    </body>
</html>
