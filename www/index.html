<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
        <link rel="stylesheet" type="text/css" href="js/gpsmap/style.css" />
        <title>GPS Monitor</title>
    </head>
    <body>
        
        <script type="text/x-handlebars">
            <div id="contextmenu">
                <ul class="nav nav-pills nav-stacked">
                    {{ctx-menu-item routeName='index' displayName='Mapa'}}
                    {{ctx-menu-item routeName='monitor' displayName='Monitor GPS'}}
                    {{ctx-menu-item routeName='account' displayName='Mi Cuenta'}}
                    {{#view "App.ExitView"}}
                        {{#link-to ""}}
                           Salir 
                        {{/link-to}}
                    {{/view}}
                </ul>
            </div>

            <div id="container-fulls">
                <div id="actionbar">
                    <div id="button-wrapper" class="">
                        <div id="svg-wrapper">
                            <object id="svg-obj">
                                <embed src="img/ctx-menu.svg" style="height: 100%;"/>
                            </object>
                            <div id="svg-overlay"></div>
                        </div>
                    </div>

                    <div id="driverstatus">
                        <div class="select">
                            {{driverStatus}}
                        </div>
                    </div>

                    <div style="clear: both;"></div>
                </div>

                <div id="content" class="row">
                    {{outlet}}
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" id="account">
            <h2>Usuario</h2>
            {{data-row title='Nombre' data=user.name}}
            {{data-row title='Celular' data=user.cellphone}}
            {{data-row title='Licencia' data=user.license}}
            {{data-row title='Vehiculo' data=user.plate}}
            <h2>Equipo</h2>
            {{data-row title='Cordova' data=device.cordova}}
            {{data-row title='Model' data=device.model}}
            {{data-row title='Name' data=device.name}}
            {{data-row title='Platform' data=device.platform}}
            {{data-row title='UUID' data=device.uuid}}
            {{data-row title='Version' data=device.version}}
        </script>

        <script type="text/x-handlebars" id="current_task">
            {{data-row title='Cliente' data=model.name}}
            {{data-row title='Origen' data=model.cellphone}}
            {{data-row title='Destino' data=model.license}}
            {{data-row title='Comentarios' data=model.plate}}
        </script>

        <script type="text/x-handlebars" id="index">
            <div id="map-canvas"></div>
        </script>

        <script type="text/x-handlebars" id="monitor">
            <div id="map-canvas" style="height: 30%;"></div> 

            {{data-row title='Tiempo' data=timestamp}}
            {{data-row title='Precisión' data=coords.accuracy}}
            {{data-row title='Altitud' data=coords.altitude}}
            {{data-row title='Altitud P.' data=coords.altitudeAccuracy}}
            {{data-row title='Dirección' data=coords.heading}}
            {{data-row title='Latitud' data=coords.latitude}}
            {{data-row title='Longitud' data=coords.longitude}}
            {{data-row title='Velocidad' data=coords.speed}}
            {{data-row title='Status' data=message}}
        </script>

        <script type="text/x-handlebars" id="preferences">
            {{data-row title='Aceptar trabajo' data='automatico'}}
            {{data-row title='Mostrar ruta' data='si'}}
            {{data-row title='Mostrar comentarios' data='si'}}
            {{data-row title='Ocultar direcciones de servicio' data='si'}}
        </script>

        <script type="text/x-handlebars" id="components/ctx-menu-item">
            {{#link-to routeName animations="main:slideOverUp"}}
                {{displayName}}
            {{/link-to}}
        </script>

        <script type="text/x-handlebars" id="components/data-row">
            <div class='title'>{{title}}</div>
            <div class='data'>{{data}}</div>
            <div style='clear: both;'></div>
        </script>

        <script type="text/javascript" src="phonegap.js"></script>
        <script src="js/libs/jquery-1.10.2.js"></script>
        <script src="js/libs/handlebars-1.1.2.js"></script>
        <script src="js/libs/ember-1.5.1.js"></script>
        <script src="js/libs/bootstrap.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBlGDVvFbD4gIC4l6G-E6bZVQlSi2GTic&sensor=true"></script>
        <script src="js/gpsmap/gpsmap.js"></script>
        <script src="js/gpsmap/Control.js"></script>
        <script src="js/gpsmap/Marker.js"></script>

        <script src="js/index.js"></script>
        <script type="text/javascript">
            phonegap.initialize();
        </script>

        <script src="tests/runner.js"></script>
    </body>
</html>
